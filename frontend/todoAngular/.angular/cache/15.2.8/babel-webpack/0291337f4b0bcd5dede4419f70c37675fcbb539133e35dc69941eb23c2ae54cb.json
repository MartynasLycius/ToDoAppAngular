{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/todo-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"ngx-ui-loader\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/select\";\nimport * as i7 from \"@angular/material/core\";\nfunction EditTodoItemComponent_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Name is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditTodoItemComponent_div_8_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Name must be at least 3 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditTodoItemComponent_div_8_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Name cannot exceed 255 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditTodoItemComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, EditTodoItemComponent_div_8_div_1_Template, 2, 0, \"div\", 6);\n    i0.ɵɵtemplate(2, EditTodoItemComponent_div_8_div_2_Template, 2, 0, \"div\", 6);\n    i0.ɵɵtemplate(3, EditTodoItemComponent_div_8_div_3_Template, 2, 0, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    let tmp_2_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r0.todoForm.get(\"name\")) == null ? null : tmp_0_0.hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.todoForm.get(\"name\")) == null ? null : tmp_1_0.hasError(\"minlength\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r0.todoForm.get(\"name\")) == null ? null : tmp_2_0.hasError(\"maxlength\"));\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"disabled-button\": a0\n  };\n};\nexport class EditTodoItemComponent {\n  constructor(todoService, route, location, ngxService) {\n    this.todoService = todoService;\n    this.route = route;\n    this.location = location;\n    this.ngxService = ngxService;\n    this.todoForm = this.todoService.getTodoForm();\n  }\n  ngOnInit() {\n    this.paramId = this.route.snapshot.paramMap.get('id');\n    if (this.paramId) this.getItemDetails(this.route.snapshot.paramMap.get('id'));\n  }\n  ngOnDestroy() {\n    this.detailsSubscription?.unsubscribe();\n    this.createSubscription?.unsubscribe();\n    this.updateSubscription?.unsubscribe();\n  }\n  getItemDetails(id) {\n    if (id) {\n      this.ngxService.startLoader(\"loader-02\");\n      this.detailsSubscription = this.todoService.getDetails(id).subscribe(item => {\n        this.todoForm = this.todoService.populateForm(item);\n      }, error => {\n        this.ngxService.stopLoader(\"loader-02\");\n      });\n    }\n  }\n  onSubmitForm() {\n    if (this.paramId) this.updateItem();else {\n      this.createTodoItem();\n    }\n  }\n  createTodoItem() {\n    this.createSubscription = this.todoService.createItem(this.todoForm.value).subscribe(item => {\n      this.location.back();\n    });\n  }\n  updateItem() {\n    this.updateSubscription = this.todoService.updateItem(this.todoForm.value).subscribe(item => {\n      this.location.back();\n    });\n  }\n  isValid() {\n    return !this.todoForm.invalid;\n  }\n}\nEditTodoItemComponent.ɵfac = function EditTodoItemComponent_Factory(t) {\n  return new (t || EditTodoItemComponent)(i0.ɵɵdirectiveInject(i1.TodoServiceService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i4.NgxUiLoaderService));\n};\nEditTodoItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditTodoItemComponent,\n  selectors: [[\"app-edit-todo-item\"]],\n  decls: 43,\n  vars: 7,\n  consts: [[1, \"place_at_center\"], [3, \"loaderId\"], [3, \"formGroup\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\"], [4, \"ngIf\"], [\"for\", \"description\"], [\"id\", \"description\", \"formControlName\", \"description\"], [1, \"form-group\", \"bordered\"], [\"for\", \"status\"], [\"id\", \"status\", \"formControlName\", \"status\"], [\"value\", \"PENDING\"], [\"value\", \"COMPLETE\"], [\"value\", \"IN_PROGRESS\"], [\"for\", \"priority\"], [\"id\", \"priority\", \"formControlName\", \"priority\"], [\"value\", \"HIGH\"], [\"value\", \"NORMAL\"], [\"value\", \"LOW\"], [\"for\", \"tag\"], [\"type\", \"text\", \"id\", \"tag\", \"formControlName\", \"tags\"], [\"for\", \"date\"], [\"type\", \"date\", \"id\", \"date\", \"formControlName\", \"date\"], [\"type\", \"submit\", 3, \"disabled\", \"ngClass\", \"click\"]],\n  template: function EditTodoItemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\");\n      i0.ɵɵelement(2, \"ngx-ui-loader\", 1);\n      i0.ɵɵelementStart(3, \"form\", 2)(4, \"div\", 3)(5, \"label\", 4);\n      i0.ɵɵtext(6, \"Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 5);\n      i0.ɵɵtemplate(8, EditTodoItemComponent_div_8_Template, 4, 3, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 7);\n      i0.ɵɵtext(11, \"Description:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"textarea\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 9)(14, \"label\", 10);\n      i0.ɵɵtext(15, \"Status:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"mat-select\", 11)(17, \"mat-option\", 12);\n      i0.ɵɵtext(18, \"Pending\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"mat-option\", 13);\n      i0.ɵɵtext(20, \"Complete\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"mat-option\", 14);\n      i0.ɵɵtext(22, \"In-progress\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(23, \"div\", 9)(24, \"label\", 15);\n      i0.ɵɵtext(25, \"Priority:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"mat-select\", 16)(27, \"mat-option\", 17);\n      i0.ɵɵtext(28, \"High\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"mat-option\", 18);\n      i0.ɵɵtext(30, \"Normal\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"mat-option\", 19);\n      i0.ɵɵtext(32, \"Low\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"div\", 3)(34, \"label\", 20);\n      i0.ɵɵtext(35, \"Tag:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(36, \"input\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 3)(38, \"label\", 22);\n      i0.ɵɵtext(39, \"Date:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(40, \"input\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"button\", 24);\n      i0.ɵɵlistener(\"click\", function EditTodoItemComponent_Template_button_click_41_listener() {\n        return ctx.onSubmitForm();\n      });\n      i0.ɵɵtext(42, \"Submit\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      let tmp_2_0;\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"loaderId\", \"loader-02\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.todoForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.todoForm.get(\"name\")) == null ? null : tmp_2_0.errors) && (((tmp_2_0 = ctx.todoForm.get(\"name\")) == null ? null : tmp_2_0.dirty) || ((tmp_2_0 = ctx.todoForm.get(\"name\")) == null ? null : tmp_2_0.touched)));\n      i0.ɵɵadvance(33);\n      i0.ɵɵproperty(\"disabled\", ctx.isValid())(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, ctx.isValid()));\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i4.NgxUiLoaderComponent, i5.FormGroupDirective, i5.FormControlName, i6.MatSelect, i7.MatOption],\n  styles: [\"form[_ngcontent-%COMP%] {\\n  max-width: 600px;\\n  margin: 0 auto;\\n  padding: 20px;\\n  background-color: #f8f8f8;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  display: block;\\n  font-weight: bold;\\n  margin-bottom: 5px;\\n}\\n\\ninput[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  box-sizing: inherit;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  padding: 12px 20px;\\n  background-color: #007bff;\\n  color: #fff;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n}\\n\\n@media screen and (max-width: 768px) {\\n  form[_ngcontent-%COMP%] {\\n    max-width: 100%;\\n    padding: 10px;\\n  }\\n  input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 8px;\\n    font-size: 14px;\\n  }\\n  button[_ngcontent-%COMP%] {\\n    padding: 10px 16px;\\n    font-size: 16px;\\n  }\\n}\\n.bordered[_ngcontent-%COMP%] {\\n  border: 1px solid #ccc;\\n  padding: 8px;\\n  border-radius: 4px;\\n}\\n\\n.disabled-button[_ngcontent-%COMP%] {\\n  background-color: #ccc;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdG9kby9jb21wb25lbnRzL2VkaXQtdG9kby1pdGVtL2VkaXQtdG9kby1pdGVtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBRUE7Ozs7RUFJRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSx5QkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0FBQ0Y7O0FBRUE7RUFDRTtJQUNFLGVBQUE7SUFDQSxhQUFBO0VBQ0Y7RUFFQTs7OztJQUlFLFdBQUE7SUFDQSxZQUFBO0lBQ0EsZUFBQTtFQUFGO0VBR0E7SUFDRSxrQkFBQTtJQUNBLGVBQUE7RUFERjtBQUNGO0FBSUE7RUFDRSxzQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQUZGOztBQUtBO0VBQ0Usc0JBQUE7QUFGRiIsInNvdXJjZXNDb250ZW50IjpbImZvcm0ge1xuICBtYXgtd2lkdGg6IDYwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZzogMjBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xufVxuXG4uZm9ybS1ncm91cCB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbmxhYmVsIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbmlucHV0W3R5cGU9XCJ0ZXh0XCJdLFxudGV4dGFyZWEsXG5zZWxlY3QsXG5pbnB1dFt0eXBlPVwiZGF0ZVwiXSB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGJveC1zaXppbmc6IGluaGVyaXQ7XG59XG5cbmJ1dHRvbiB7XG4gIHBhZGRpbmc6IDEycHggMjBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIGZvcm0ge1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICB9XG5cbiAgaW5wdXRbdHlwZT1cInRleHRcIl0sXG4gIHRleHRhcmVhLFxuICBzZWxlY3QsXG4gIGlucHV0W3R5cGU9XCJkYXRlXCJdIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiA4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICB9XG5cbiAgYnV0dG9uIHtcbiAgICBwYWRkaW5nOiAxMHB4IDE2cHg7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICB9XG59XG5cbi5ib3JkZXJlZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIHBhZGRpbmc6IDhweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xufVxuXG4uZGlzYWJsZWQtYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","EditTodoItemComponent","constructor","todoService","route","location","ngxService","todoForm","getTodoForm","ngOnInit","paramId","snapshot","paramMap","get","getItemDetails","ngOnDestroy","detailsSubscription","unsubscribe","createSubscription","updateSubscription","id","startLoader","getDetails","subscribe","item","populateForm","error","stopLoader","onSubmitForm","updateItem","createTodoItem","createItem","value","back","isValid","invalid","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/anjarul/Desktop/anjarul/proIT/todoAngular/src/app/todo/components/edit-todo-item/edit-todo-item.component.html","/Users/anjarul/Desktop/anjarul/proIT/todoAngular/src/app/todo/components/edit-todo-item/edit-todo-item.component.ts"],"sourcesContent":["<div class=\"place_at_center\">\n  <div >\n    <ngx-ui-loader [loaderId]=\"'loader-02'\"></ngx-ui-loader>\n\n    <form [formGroup]=\"todoForm\" >\n      <div class=\"form-group\">\n        <label for=\"name\">Name:</label>\n        <input type=\"text\" id=\"name\" formControlName=\"name\">\n\n        <div *ngIf=\"todoForm.get('name')?.errors && (todoForm.get('name')?.dirty || todoForm.get('name')?.touched)\">\n          <div *ngIf=\"todoForm.get('name')?.hasError('required')\">Name is required.</div>\n          <div *ngIf=\"todoForm.get('name')?.hasError('minlength')\">Name must be at least 3 characters.</div>\n          <div *ngIf=\"todoForm.get('name')?.hasError('maxlength')\">Name cannot exceed 255 characters.</div>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"description\">Description:</label>\n        <textarea id=\"description\" formControlName=\"description\"></textarea>\n      </div>\n      <div class=\"form-group bordered\">\n        <label for=\"status\">Status:</label>\n        <mat-select id=\"status\" formControlName=\"status\">\n          <mat-option value=\"PENDING\">Pending</mat-option>\n          <mat-option value=\"COMPLETE\">Complete</mat-option>\n          <mat-option value=\"IN_PROGRESS\">In-progress</mat-option>\n        </mat-select>\n\n      </div>\n\n      <div class=\"form-group bordered\">\n        <label for=\"priority\">Priority:</label>\n        <mat-select id=\"priority\" formControlName=\"priority\">\n          <mat-option value=\"HIGH\">High</mat-option>\n          <mat-option value=\"NORMAL\">Normal</mat-option>\n          <mat-option value=\"LOW\">Low</mat-option>\n        </mat-select>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"tag\">Tag:</label>\n        <input type=\"text\" id=\"tag\" formControlName=\"tags\">\n      </div>\n      <div class=\"form-group\">\n        <label for=\"date\">Date:</label>\n        <input type=\"date\" id=\"date\" formControlName=\"date\">\n      </div>\n      <button [disabled]=\"isValid()\"  [ngClass]=\"{'disabled-button': isValid()}\" type=\"submit\" (click)=\"onSubmitForm()\">Submit</button>\n    </form>\n\n\n  </div>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {FormGroup} from \"@angular/forms\";\nimport {TodoServiceService} from \"../../services/todo-service.service\";\nimport {ActivatedRoute} from \"@angular/router\";\nimport {ItodoItem} from \"../../models/itodo-item\";\nimport {Location} from \"@angular/common\";\nimport {Subscription} from \"rxjs\";\nimport {NgxUiLoaderService} from \"ngx-ui-loader\";\n\n@Component({\n  selector: 'app-edit-todo-item',\n  templateUrl: './edit-todo-item.component.html',\n  styleUrls: ['./edit-todo-item.component.scss']\n})\nexport class EditTodoItemComponent implements OnInit, OnDestroy {\n  todoForm: FormGroup;\n  paramId: string | null | undefined\n  private detailsSubscription: Subscription | undefined;\n  private createSubscription: Subscription | undefined;\n  private updateSubscription: Subscription | undefined;\n\n  constructor(private todoService: TodoServiceService, private route: ActivatedRoute, private location: Location,\n              private ngxService: NgxUiLoaderService) {\n    this.todoForm = this.todoService.getTodoForm();\n  }\n\n  ngOnInit() {\n    this.paramId = this.route.snapshot.paramMap.get('id');\n    if (this.paramId)\n      this.getItemDetails(this.route.snapshot.paramMap.get('id'));\n  }\n\n  ngOnDestroy() {\n    this.detailsSubscription?.unsubscribe();\n    this.createSubscription?.unsubscribe();\n    this.updateSubscription?.unsubscribe();\n  }\n\n  private getItemDetails(id: string | null) {\n    if (id) {\n      this.ngxService.startLoader(\"loader-02\");\n      this.detailsSubscription = this.todoService.getDetails(id).subscribe((item: ItodoItem) => {\n        this.todoForm = this.todoService.populateForm(item);\n      }, error => {\n        this.ngxService.stopLoader(\"loader-02\");\n      })\n    }\n  }\n\n  onSubmitForm() {\n    if (this.paramId)\n      this.updateItem()\n    else {\n      this.createTodoItem()\n    }\n  }\n\n  createTodoItem() {\n    this.createSubscription = this.todoService.createItem(this.todoForm.value).subscribe((item: ItodoItem) => {\n      this.location.back();\n    })\n  }\n\n  private updateItem() {\n    this.updateSubscription = this.todoService.updateItem(this.todoForm.value).subscribe((item: ItodoItem) => {\n      this.location.back();\n    })\n  }\n\n  isValid() {\n    return !this.todoForm.invalid\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}