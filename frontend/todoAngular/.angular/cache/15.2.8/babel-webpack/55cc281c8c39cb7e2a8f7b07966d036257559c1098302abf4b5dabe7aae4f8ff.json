{"ast":null,"code":"import { catchError, throwError } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-toastr\";\nexport class ErrorInterceptorService {\n  constructor(toast) {\n    this.toast = toast;\n  }\n  intercept(request, next) {\n    return next.handle(request).pipe(catchError(error => {\n      this.handleError(error);\n      let errorMsg = '';\n      if (error.error instanceof ErrorEvent) {\n        errorMsg = `Error: ${error.error.message}`;\n      } else {\n        errorMsg = `Error Code: ${error.status},  Message: ${error.message}`;\n      }\n      return throwError(errorMsg);\n    }));\n  }\n  handleError(error) {\n    if (error.status === 400) {\n      this.toast.error(error.message, 'Bad Request');\n    } else if (error.status === 401) {\n      this.toast.error('', 'Token Expired');\n    } else if (error.status === 417) {\n      this.toast.error(error.message, 'Request error');\n    } else if (error.status >= 500) {\n      this.toast.error('Please contact with support team', 'Data fetching error');\n    } else if (error.status >= 412) {\n      this.toast.error(error?.message);\n    }\n  }\n}\nErrorInterceptorService.ɵfac = function ErrorInterceptorService_Factory(t) {\n  return new (t || ErrorInterceptorService)(i0.ɵɵinject(i1.ToastrService));\n};\nErrorInterceptorService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ErrorInterceptorService,\n  factory: ErrorInterceptorService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAEA,SAAQA,UAAU,EAAcC,UAAU,QAAO,MAAM;;;AAMvD,OAAM,MAAOC,uBAAuB;EAElCC,YAAoBC,KAAoB;IAApB,UAAK,GAALA,KAAK;EACzB;EAEAC,SAAS,CAACC,OAA6B,EAAEC,IAAiB;IACxD,OAAOA,IAAI,CAACC,MAAM,CAACF,OAAO,CAAC,CACxBG,IAAI,CACHT,UAAU,CAAEU,KAAwB,IAAI;MACtC,IAAI,CAACC,WAAW,CAACD,KAAK,CAAC;MACvB,IAAIE,QAAQ,GAAG,EAAE;MACjB,IAAIF,KAAK,CAACA,KAAK,YAAYG,UAAU,EAAE;QACrCD,QAAQ,GAAG,UAAUF,KAAK,CAACA,KAAK,CAACI,OAAO,EAAE;OAC3C,MAAM;QACLF,QAAQ,GAAG,eAAeF,KAAK,CAACK,MAAM,eAAeL,KAAK,CAACI,OAAO,EAAE;;MAEtE,OAAOb,UAAU,CAACW,QAAQ,CAAC;IAC7B,CAAC,CAAC,CACH;EACL;EAEQD,WAAW,CAACD,KAAwB;IAC1C,IAAIA,KAAK,CAACK,MAAM,KAAK,GAAG,EAAE;MAExB,IAAI,CAACX,KAAK,CAACM,KAAK,CAACA,KAAK,CAACI,OAAO,EAAE,aAAa,CAAC;KAC/C,MAAM,IAAIJ,KAAK,CAACK,MAAM,KAAK,GAAG,EAAE;MAC/B,IAAI,CAACX,KAAK,CAACM,KAAK,CAAC,EAAE,EAAE,eAAe,CAAC;KACtC,MAAM,IAAIA,KAAK,CAACK,MAAM,KAAK,GAAG,EAAE;MAC/B,IAAI,CAACX,KAAK,CAACM,KAAK,CAACA,KAAK,CAACI,OAAO,EAAE,eAAe,CAAC;KACjD,MAAM,IAAIJ,KAAK,CAACK,MAAM,IAAI,GAAG,EAAE;MAC9B,IAAI,CAACX,KAAK,CAACM,KAAK,CAAC,kCAAkC,EAAE,qBAAqB,CAAC;KAC5E,MAAM,IAAIA,KAAK,CAACK,MAAM,IAAI,GAAG,EAAE;MAC9B,IAAI,CAACX,KAAK,CAACM,KAAK,CAACA,KAAK,EAAEI,OAAO,CAAC;;EAEpC;;AAlCWZ,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;SAAvBA,uBAAuB;EAAAc,SAAvBd,uBAAuB;EAAAe,YAFtB;AAAM","names":["catchError","throwError","ErrorInterceptorService","constructor","toast","intercept","request","next","handle","pipe","error","handleError","errorMsg","ErrorEvent","message","status","factory","providedIn"],"sourceRoot":"","sources":["/Users/anjarul/Desktop/anjarul/proIT/todoAngular/src/app/shared/services/error-interceptor.service.ts"],"sourcesContent":["import {Injectable} from '@angular/core';\nimport {HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from \"@angular/common/http\";\nimport {catchError, Observable, throwError} from \"rxjs\";\nimport {ToastrService} from \"ngx-toastr\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ErrorInterceptorService implements HttpInterceptor {\n\n  constructor(private toast: ToastrService) {\n  }\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n    return next.handle(request)\n      .pipe(\n        catchError((error: HttpErrorResponse) => {\n          this.handleError(error);\n          let errorMsg = '';\n          if (error.error instanceof ErrorEvent) {\n            errorMsg = `Error: ${error.error.message}`;\n          } else {\n            errorMsg = `Error Code: ${error.status},  Message: ${error.message}`;\n          }\n          return throwError(errorMsg);\n        })\n      );\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.status === 400) {\n\n      this.toast.error(error.message, 'Bad Request');\n    } else if (error.status === 401) {\n      this.toast.error('', 'Token Expired');\n    } else if (error.status === 417) {\n      this.toast.error(error.message, 'Request error');\n    } else if (error.status >= 500) {\n      this.toast.error('Please contact with support team', 'Data fetching error');\n    } else if (error.status >= 412) {\n      this.toast.error(error?.message);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}